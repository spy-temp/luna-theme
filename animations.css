/* =========================
   LUNA THEME — ANIMATIONS
   Scintillement, pulsations, hover glow
   ========================= */

/* Glow subtil sur les boutons brand */
[class*="lookFilled"][class*="colorBrand"], [class*="colorBrand"][class*="button"] {
  position: relative;
  isolation: isolate;
}
[class*="lookFilled"][class*="colorBrand"]::after,
[class*="colorBrand"][class*="button"]::after {
  content: "";
  position: absolute;
  inset: -2px;
  border-radius: 9999px;
  background: radial-gradient(40% 60% at 50% 50%, rgba(59,130,246,0.28), transparent 70%);
  opacity: 0;
  transition: opacity .18s ease;
  z-index: -1;
}
[class*="lookFilled"][class*="colorBrand"]:hover::after,
[class*="colorBrand"][class*="button"]:hover::after {
  opacity: 1;
}

/* Scintillement léger des pseudos au hover */
[class*="username"], [class*="nameTag"] {
  transition: text-shadow .25s ease, color .25s ease;
}
[class*="username"]:hover, [class*="nameTag"]:hover {
  color: #ffffff !important;
  text-shadow:
    0 0 8px rgba(147, 197, 253, 0.55),
    0 0 16px rgba(59, 130, 246, 0.35);
}

/* Pulsation très légère des messages au hover (glassmorphism) */
[id^="chat-messages"] [class*="message"]:hover,
[class*="messageListItem"]:hover, [class*="messageContainer"]:hover {
  transform: translateY(-1px);
  transition: transform .18s ease, box-shadow .18s ease;
  box-shadow: 0 10px 30px rgba(30, 64, 175, 0.28);
}

/* Animation d’apparition des popouts / tooltips */
@keyframes lunaPop {
  0%   { transform: translateY(8px) scale(0.98); opacity: 0; }
  100% { transform: translateY(0)   scale(1.00); opacity: 1; }
}
[class*="popout"], [class*="popOver"], [class*="tooltip"], [class*="menu"] {
  animation: lunaPop .18s ease-out;
  transform-origin: top center;
}

/* Brillance des mentions */
[class*="mention"]:hover {
  box-shadow:
    0 0 0 2px rgba(59, 130, 246, 0.25),
    0 0 18px rgba(59, 130, 246, 0.40);
  transition: box-shadow .18s ease;
}

/* Barre 'nouveaux messages' ondulante */
@keyframes lunaPulse {
  0%, 100% { box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.40); }
  50%      { box-shadow: 0 0 14px 2px rgba(59, 130, 246, 0.55); }
}
[class*="newMessagesBar"], [class*="unreadBar"] {
  animation: lunaPulse 2.2s ease-in-out infinite;
}

/* Lueur halo autour des avatars au hover */
[class*="avatar"], [class*="avatarWrapper"] img {
  transition: box-shadow .2s ease, transform .2s ease;
}
[class*="avatar"]:hover, [class*="avatarWrapper"] img:hover {
  transform: translateY(-1px);
  box-shadow:
    0 0 0 2px rgba(59, 130, 246, 0.35),
    0 0 24px rgba(59, 130, 246, 0.45);
}

/* Effet "starlight" discret sur entêtes */
@keyframes lunaSweep {
  0%   { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}
[class*="header"], [class*="toolbar"] {
  position: relative;
  overflow: hidden;
}
[class*="header"]::after, [class*="toolbar"]::after {
  content: "";
  position: absolute;
  inset: 0 0 auto 0;
  height: 2px;
  background: linear-gradient(90deg, transparent, rgba(147,197,253,0.85), transparent);
  background-size: 200% 100%;
  animation: lunaSweep 8s linear infinite;
  opacity: .55;
}

/* Réduire les animations si l’utilisateur préfère moins de mouvement */
@media (prefers-reduced-motion: reduce) {
  [class*="popout"], [class*="popOver"], [class*="tooltip"], [class*="menu"],
  [id^="chat-messages"] [class*="message"]:hover {
    animation: none !important;
    transition: none !important;
  }
}

/* Fin ANIMATIONS — effets optionnels mais stylés pour l’ambiance galaxie */
